<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<!-- My CSS -->
	<link rel="stylesheet" href="/css/dashboard.css">
	<title>GOCART AdminHub</title>
</head>

<body>


	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
			<h2 class="text p-5" style="color: black;">GOCART</h2>
		</a>
		<ul class="side-menu top">
			<li class="active">
				<a href="/admin/">
					<i class='bx bxs-dashboard'></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a href="/admin/productManagment?page=1">
					<!-- /admin/addproduct -->
					<i class='bx bxs-shopping-bag-alt'></i>
					<span class="text">ProductManagment</span>
				</a>
			</li>
			<li>
				<a href="/admin/UserManagment">
					<i class='bx bxs-doughnut-chart'></i>
					<span class="text">User managment</span>
				</a>
			</li>
			<li>
				<a href="/admin/OrderManagment">
					<i class='bx bxs-group'></i>
					<span class="text">Order Managment</span>
				</a>
			</li>
			<li>
				<a href="/admin/CateogaryManagment">
					<i class='bx bxs-cog'></i>
					<span class="text">Cateogary Managmeny</span>
				</a>
			</li>
			<li>
				<a href="/admin/CoupenManagment">
					<!-- /admin/addproduct -->
					<i class='bx bxs-shopping-bag-alt'></i>
					<span class="text">Coupen Managment</span>
				</a>
			</li>
		</ul>
		<ul class="side-menu">
			<li>
				<a href="" class="logout">
					<i class='bx bxs-log-out-circle'></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>

	</section>
	<!-- SIDEBAR -->



	<!-- CONTENT -->
	<section id="content">

		<!-- MAIN -->
		<main>
			<div class="head-title">
				<div class="left">
					<h1>Product Managment</h1>
					<!-- <ul class="breadcrumb">
						<li>
							<a href="#">Dashboard</a>
						</li>
						<li><i class='bx bx-chevron-right' ></i></li>
						<li>
							<a class="active" href="#">Home</a>
						</li>
					</ul> -->
				</div>

			</div>


			<div class="container " style="background-color: rgb(233, 230, 221);color: aliceblue;">
				<div class="container-head p-2 text-start">
					<a href="/admin/unlistProduct"><button class="text-white bg-dark"
							style="border-radius: 10px;">Unlist Product</button></a>
					<a href="/admin/addproduct"><button class="text-white bg-dark" style="border-radius: 10px;">Add
							Product</button></a>
				</div>
				<% for( let i=0;i<Product.length;i++) {%>
					<div class="container-body  bg-white d-flex justify-content-between m-2 text-dark"
						style="border-radius: 20px;">
						<div class="product d-flex">
							<img class=" m-2" src="<%=Product[i].image[0]%>" + alt="jsggs" style="width:150px;">
							<div class="product-body m-2">
								<h5>
									<%=Product[i].pname%>
								</h5>
								<p>color:<%=Product[i].color%>
								</p>
								<p>instock:<%=Product[i].instock%>
								</p>
								<p>cateogary:<%=Product[i].cateogary%>
								</p>
							</div>
						</div>
						<div class="product-dtails p-3 d-flex">
							<div class="text-center">
								<p>MRP:<%=Product[i].firstprice%>
								</p>
								<p>Discount:<%=Product[i].discount%>
								</p>
								<p>price:<%=Product[i].lastprice%>
								</p>
							</div>
							<div class="buttons m-3 text-center">
								<button class="d-block m-2"
									style="width: 100px;background-color: yellow;border-radius: 10px;"><a
										href="/admin/editproduct?id=<%=Product[i]._id %>">Edit</a>
								</button>
								<!-- Button to trigger the modal -->
								<button type="button" class="btn btn-danger" data-bs-toggle="modal"
									data-bs-target="#deleteModal<%= Product[i]._id %> ">
									Delete
								</button>

								<!-- Delete Modal -->
								<div class="modal fade" id="deleteModal<%= Product[i]._id %>" tabindex="-1"
									aria-labelledby="deleteModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<h5 class="modal-title" id="deleteModalLabel">Confirm Deletion</h5>
												<button type="button" class="btn-close" data-bs-dismiss="modal"
													aria-label="Close"></button>
											</div>
											<div class="modal-body">
												<p>Are you sure you want to delete this product?</p>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-secondary"
													data-bs-dismiss="modal">Cancel</button>
												<a href="/admin/deleteproduct?id=<%= Product[i]._id %>"
													class="btn btn-danger">Delete</a>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

					</div>
				<% } %>
			</div>


	</section>

	<nav aria-label="Page navigation example">
		<ul class="pagination justify-content-center">
			<li class="page-item">
				<a class="page-link <%= (cN===1)?'d-none':'' %>" href="/admin/productManagment?page=<%= cN - 1 %>"
					tabindex="-1">Previous</a>
			</li>
			<% for(let i=0;i< count;i++){ %>
				<li class="page-item"><a class="page-link" href="/admin/productManagment?page=<%= i + 1 %>">
						<%= i + 1 %>
					</a></li>
				<% } %>

					<!-- <li class="page-item"><a class="page-link" href="/admin/productManagment?page=2">2</a></li>
		            <li class="page-item"><a class="page-link" href="/admin/productManagment?page=3">3</a></li> -->
					<li class="page-item">
						<a class="page-link <%= (cN===count)?'d-none':'' %>"
							href="/admin/productManagment?page=<%= cN + 1 %>">Next</a>
					</li>
		</ul>
	</nav>
	<!-- CONTENT -->




	<script src="script.js"></script>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
	crossorigin="anonymous"></script>

</html>